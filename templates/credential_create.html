{% extends "base.html" %}
{% block content %}
  <h1>Create Credential</h1>
  <div class="card">
    <form method="post" action="/did/{{ rec.id }}/credentials/create" enctype="multipart/form-data">
      {% if form %}{{ form.hidden_tag() }}{% else %}<input type="hidden" name="csrf_token" value="{{ csrf_token() }}">{% endif %}
      <label for="label">Label</label>
      <input type="text" id="label" name="label" placeholder="e.g., Warehouse #42" required>
      <div class="row">
        <div>
          <label for="policy_id">Policy ID (required)</label>
          <input type="text" id="policy_id" name="policy_id" placeholder="Cardano policy id" required>
          <div class="hint">This scopes the credential to a specific onâ€‘chain policy ID.</div>
        </div>
        <div>
          <label for="asset_name">Asset Name (optional)</label>
          <input type="text" id="asset_name" name="asset_name" placeholder="Token1">
        </div>
      </div>
      <h3>RWA Details (optional)</h3>
      <div class="row">
        <div>
          <label for="rwa_asset_type">Asset Type</label>
          <input type="text" id="rwa_asset_type" name="rwa_asset_type" placeholder="RealEstate">
        </div>
        <div>
          <label for="rwa_jurisdiction">Jurisdiction</label>
          <input type="text" id="rwa_jurisdiction" name="rwa_jurisdiction" placeholder="United States">
        </div>
      </div>
      <div>
        <label for="rwa_registration">Registration Number</label>
        <input type="text" id="rwa_registration" name="rwa_registration" placeholder="ABC123">
      </div>
      <h3>Sign with your company DID key</h3>
      <label for="key_file">Key file (preferred)</label>
      <input type="file" id="key_file" name="key_file" accept=".txt,.key">
      <div class="hint">Or enter your passphrase instead:</div>
      <label for="key_passphrase">Passphrase</label>
      <input type="password" id="key_passphrase" name="key_passphrase" placeholder="Your encryption passphrase">
      <div class="actions" style="display:flex; gap:10px;">
        <button type="submit">Create Credential</button>
        <a href="/did/{{ rec.id }}"><button class="secondary" type="button">Cancel</button></a>
      </div>
    </form>
  </div>
{% endblock %}
