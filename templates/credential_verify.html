{% extends "base.html" %}
{% block content %}
  <h1>Verify Credential</h1>
  <div class="card">
    <p><strong>Company:</strong> {{ rec.company }}</p>
    <p><strong>Credential:</strong> {{ cred.label }}</p>
    <p><strong>Issuer DID:</strong> <span class="hint">{{ rec.did_id }}</span></p>
  </div>

  <h2>Verification Steps</h2>
  <div class="card">
    {% for s in steps %}
      <div style="display:flex; justify-content: space-between; align-items:center; padding:8px 0;{% if not loop.first %} border-top:1px solid var(--border);{% endif %}">
        <div>
          <div style="font-weight:700; color:#000;">{{ s.name }}</div>
          {% if s.detail %}<div class="small">{{ s.detail }}</div>{% endif %}
        </div>
        <span class="badge {% if s.status=='ok' %}approved{% else %}rejected{% endif %}">{% if s.status=='ok' %}OK{% elif s.status=='fail' %}FAIL{% else %}{{ s.status|upper }}{% endif %}</span>
      </div>
    {% endfor %}
  </div>

  <div class="actions" style="display:flex; gap:10px;">
    <a href="/did/{{ rec.id }}/credentials/{{ cred.id }}"><button type="button">Back to Credential</button></a>
    <a href="/did/{{ rec.id }}"><button class="secondary" type="button">Back to DID</button></a>
  </div>
{% endblock %}

